{"ast":null,"code":"var _jsxFileName = \"/Users/plouka/Projects/slackr/frontend/src/components/Layout/Header.js\";\nimport axios from 'axios';\nimport { AppBar, Button, IconButton, Toolbar, Typography } from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport AuthContext from '../../AuthContext';\nimport { drawerWidth } from '../../utils/constants';\nimport PollToggle from '../PollToggle';\nimport Admin from '../Admin';\nimport SearchBar from '../Search/SearchBar';\nconst useStyles = makeStyles(theme => ({\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`\n    }\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1\n  },\n  logoutButton: {\n    float: 'right'\n  }\n}));\n\nfunction Header({\n  handleMenuToggle = () => {}\n}) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n  const token = React.useContext(AuthContext);\n  const [loggedOut, setLoggedOut] = React.useState(false);\n\n  if (loggedOut) {\n    axios.post(`/auth/logout`, {\n      token\n    }).then(response => {\n      console.log(response);\n    }).catch(err => {});\n    localStorage.removeItem('token');\n    localStorage.removeItem('u_id');\n    return React.createElement(Redirect, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(AppBar, {\n    position: \"fixed\",\n    className: classes.appBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, !matches && React.createElement(React.Fragment, null, React.createElement(IconButton, {\n    color: \"inherit\",\n    \"aria-label\": \"open drawer\",\n    edge: \"start\",\n    onClick: handleMenuToggle,\n    className: classes.menuButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(MenuIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })), React.createElement(Link, {\n    to: \"/\",\n    style: {\n      color: 'white',\n      textDecoration: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    noWrap: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Slackr\"))), React.createElement(\"div\", {\n    variant: \"h6\",\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(SearchBar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }), React.createElement(PollToggle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(Admin, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(Button, {\n    color: \"inherit\",\n    className: classes.logoutButton,\n    onClick: () => {\n      setLoggedOut(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Logout\"))));\n}\n\nexport default Header;","map":{"version":3,"sources":["/Users/plouka/Projects/slackr/frontend/src/components/Layout/Header.js"],"names":["axios","AppBar","Button","IconButton","Toolbar","Typography","makeStyles","useTheme","useMediaQuery","MenuIcon","React","Link","Redirect","AuthContext","drawerWidth","PollToggle","Admin","SearchBar","useStyles","theme","appBar","marginLeft","breakpoints","up","width","menuButton","marginRight","spacing","title","flexGrow","logoutButton","float","Header","handleMenuToggle","classes","matches","token","useContext","loggedOut","setLoggedOut","useState","post","then","response","console","log","catch","err","localStorage","removeItem","color","textDecoration","display"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n  AppBar,\n  Button,\n  IconButton,\n  Toolbar,\n  Typography,\n} from '@material-ui/core';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport AuthContext from '../../AuthContext';\nimport { drawerWidth } from '../../utils/constants';\nimport PollToggle from '../PollToggle';\nimport Admin from '../Admin';\nimport SearchBar from '../Search/SearchBar';\n\nconst useStyles = makeStyles((theme) => ({\n  appBar: {\n    marginLeft: drawerWidth,\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  logoutButton: {\n    float: 'right',\n  },\n}));\n\nfunction Header({ handleMenuToggle = () => {} }) {\n  const classes = useStyles();\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up('sm'));\n  const token = React.useContext(AuthContext);\n  const [loggedOut, setLoggedOut] = React.useState(false);\n\n  if (loggedOut) {\n    axios.post(`/auth/logout`, { token })\n      .then((response) => {\n        console.log(response);\n      })\n      .catch((err) => {});\n    localStorage.removeItem('token');\n    localStorage.removeItem('u_id');\n    return <Redirect to=\"/login\" />;\n  }\n\n  return (\n    <AppBar position=\"fixed\" className={classes.appBar}>\n      <Toolbar>\n        {!matches && (\n          <>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleMenuToggle}\n              className={classes.menuButton}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Link to=\"/\" style={{ color: 'white', textDecoration: 'none' }}>\n              <Typography variant=\"h5\" noWrap>\n                Slackr\n              </Typography>\n            </Link>\n          </>\n        )}\n        <div variant=\"h6\" className={classes.title}>\n\n        </div>\n        <div style={{display:'flex'}}>\n          <SearchBar />\n          <PollToggle />\n          <Admin />\n          <Button\n            color=\"inherit\"\n            className={classes.logoutButton}\n            onClick={() => {\n              setLoggedOut(true);\n            }}\n          >\n            Logout\n          </Button>\n        </div>\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}