{"ast":null,"code":"var _jsxFileName = \"/Users/plouka/Projects/slackr/frontend/src/components/Admin/UserRemoveDialog.js\";\nimport React from \"react\";\nimport axios from 'axios';\nimport { Dialog, DialogTitle, DialogActions, DialogContent, DialogContentText, Button, TextField, Grid, FormControlLabel, RadioGroup, Radio, MenuItem, Select, InputLabel } from \"@material-ui/core\";\nimport AuthContext from \"../../AuthContext\";\n\nfunction UserRemoveDialog({\n  children,\n  ...props\n}) {\n  const [open, setOpen] = React.useState(false);\n  const [users, setUsers] = React.useState([]);\n  const [selectedUser, setSelectedUser] = React.useState('');\n  const token = React.useContext(AuthContext);\n\n  function fetchUserData() {\n    axios.get('/users/all', {\n      params: {\n        token\n      }\n    }).then(({\n      data\n    }) => {\n      setUsers(data['users']);\n    }).catch(err => {});\n  }\n\n  React.useEffect(() => {\n    fetchUserData();\n  }, []);\n\n  const handleUserSelect = event => {\n    const newUserId = parseInt(event.target.value, 10);\n    setSelectedUser(newUserId);\n  };\n\n  function handleClickOpen() {\n    setOpen(true);\n  }\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    if (!event.target[0].value) return;\n    const u_id = parseInt(event.target[0].value, 10);\n    axios.delete(`/admin/user/remove`, {\n      data: {\n        token,\n        u_id\n      }\n    }).then(response => {\n      console.log(response);\n    }).catch(err => {});\n  }\n\n  ;\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    onClick: handleClickOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, children), React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Remove User\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(DialogContentText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, \"Select a user below to remove from Slackr\"), React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    direction: \"row\",\n    justify: \"center\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(Select, {\n    style: {\n      width: \"100%\"\n    },\n    id: \"u_id\",\n    onChange: handleUserSelect,\n    value: selectedUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, users.map((d, idx) => {\n    return React.createElement(MenuItem, {\n      key: d.u_id,\n      value: d.u_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, d.name_first, \" \", d.name_last);\n  }))))), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Cancel\"), React.createElement(Button, {\n    onClick: handleClose,\n    type: \"submit\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Remove\")))));\n}\n\nexport default UserRemoveDialog;","map":{"version":3,"sources":["/Users/plouka/Projects/slackr/frontend/src/components/Admin/UserRemoveDialog.js"],"names":["React","axios","Dialog","DialogTitle","DialogActions","DialogContent","DialogContentText","Button","TextField","Grid","FormControlLabel","RadioGroup","Radio","MenuItem","Select","InputLabel","AuthContext","UserRemoveDialog","children","props","open","setOpen","useState","users","setUsers","selectedUser","setSelectedUser","token","useContext","fetchUserData","get","params","then","data","catch","err","useEffect","handleUserSelect","event","newUserId","parseInt","target","value","handleClickOpen","handleClose","handleSubmit","preventDefault","u_id","delete","response","console","log","width","map","d","idx","name_first","name_last"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from 'axios';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  Button,\n  TextField,\n  Grid,\n  FormControlLabel,\n  RadioGroup,\n  Radio,\n  MenuItem,\n  Select,\n  InputLabel,\n} from \"@material-ui/core\";\nimport AuthContext from \"../../AuthContext\";\n\nfunction UserRemoveDialog({ children, ...props }) {\n\n    const [open, setOpen] = React.useState(false);\n    const [users, setUsers] = React.useState([]);\n    const [selectedUser, setSelectedUser] = React.useState('');\n    const token = React.useContext(AuthContext);\n\n    function fetchUserData() {\n    axios\n      .get('/users/all', {\n        params: {\n          token,\n        },\n      })\n      .then(({ data }) => {\n        setUsers(data['users']);\n      })\n      .catch((err) => {});\n     }\n\n    React.useEffect(() => {\n        fetchUserData();\n    }, []);\n\n    const handleUserSelect = event => {\n        const newUserId = parseInt(event.target.value,10);\n        setSelectedUser(newUserId);\n    };\n\n    function handleClickOpen() {\n        setOpen(true);\n    }\n\n    function handleClose() {\n        setOpen(false);\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n\n        if (!event.target[0].value) return;\n\n        const u_id = parseInt(event.target[0].value,10);\n\n        axios.delete(`/admin/user/remove`, {\n            data: {\n              token,\n              u_id,\n            }\n        })\n        .then(response => {\n            console.log(response);\n        })\n        .catch(err => {});\n    };\n\n    return <>\n        <div onClick={handleClickOpen}>\n        {children}\n        </div>\n        <Dialog\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Remove User</DialogTitle>\n            <form onSubmit={handleSubmit}>\n                <DialogContent>\n                    <DialogContentText>\n                    Select a user below to remove from Slackr\n                    </DialogContentText>\n                    <Grid\n                        container\n                        spacing={2}\n                        direction=\"row\"\n                        justify=\"center\"\n                        alignItems=\"center\"\n                    >\n                        <Grid item xs={12}>\n                            <Select style={{width:\"100%\"}} id=\"u_id\" onChange={handleUserSelect} value={selectedUser}>\n                              {users.map((d, idx) => {\n                                return <MenuItem key={d.u_id} value={d.u_id}>{d.name_first} {d.name_last}</MenuItem>\n                              })}\n                            </Select>\n                        </Grid>\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                    </Button>\n                    <Button onClick={handleClose} type=\"submit\" color=\"primary\">\n                    Remove\n                    </Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    </>;\n}\n\nexport default UserRemoveDialog;\n"]},"metadata":{},"sourceType":"module"}