{"ast":null,"code":"var _jsxFileName = \"/Users/plouka/Projects/slackr/frontend/src/components/Channel/AddMemberDialog.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Dialog, DialogTitle, DialogActions, DialogContent, MenuItem, Select, DialogContentText, Button, TextField } from '@material-ui/core';\nimport AuthContext from '../../AuthContext';\nimport { useStep } from '../../utils/update';\n\nfunction AddMemberDialog({\n  channel_id,\n  ...props\n}) {\n  const [open, setOpen] = React.useState(false);\n  const [selectedUser, setSelectedUser] = React.useState('');\n  const [users, setUsers] = React.useState([]);\n  const token = React.useContext(AuthContext);\n  const step = useStep();\n\n  function fetchUserData() {\n    axios.get('/users/all', {\n      params: {\n        token\n      }\n    }).then(({\n      data\n    }) => {\n      setUsers(data['users']);\n    }).catch(err => {});\n  }\n\n  React.useEffect(() => {\n    fetchUserData();\n  }, []);\n\n  const handleUserSelect = event => {\n    const newUserId = parseInt(event.target.value, 10);\n    setSelectedUser(newUserId);\n  };\n\n  function handleClickOpen() {\n    setOpen(true);\n  }\n\n  function handleClose() {\n    setOpen(false);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const u_id = selectedUser;\n    if (u_id == null) return;\n    axios.post(`/channel/invite`, {\n      token,\n      u_id,\n      channel_id\n    }).then(response => {\n      console.log(response);\n      step();\n    }).catch(err => {});\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: handleClickOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Invite Member\"), React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Invite User\"), React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(DialogContent, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(DialogContentText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Enter a user id below to invite a user to this channel\"), React.createElement(Select, {\n    style: {\n      width: \"100%\"\n    },\n    id: \"u_id\",\n    onChange: handleUserSelect,\n    value: selectedUser,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, users.map((d, idx) => {\n    return React.createElement(MenuItem, {\n      key: d.u_id,\n      value: d.u_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, d.name_first, \" \", d.name_last);\n  }))), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: handleClose,\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Cancel\"), React.createElement(Button, {\n    onClick: handleClose,\n    type: \"submit\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"Invite\")))));\n}\n\nexport default AddMemberDialog;","map":{"version":3,"sources":["/Users/plouka/Projects/slackr/frontend/src/components/Channel/AddMemberDialog.js"],"names":["React","axios","Dialog","DialogTitle","DialogActions","DialogContent","MenuItem","Select","DialogContentText","Button","TextField","AuthContext","useStep","AddMemberDialog","channel_id","props","open","setOpen","useState","selectedUser","setSelectedUser","users","setUsers","token","useContext","step","fetchUserData","get","params","then","data","catch","err","useEffect","handleUserSelect","event","newUserId","parseInt","target","value","handleClickOpen","handleClose","handleSubmit","preventDefault","u_id","post","response","console","log","width","map","d","idx","name_first","name_last"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nimport {\n  Dialog,\n  DialogTitle,\n  DialogActions,\n  DialogContent,\n  MenuItem,\n  Select,\n  DialogContentText,\n  Button,\n  TextField,\n} from '@material-ui/core';\nimport AuthContext from '../../AuthContext';\nimport {useStep} from '../../utils/update';\n\nfunction AddMemberDialog({ channel_id, ...props }) {\n  const [open, setOpen] = React.useState(false);\n  const [selectedUser, setSelectedUser] = React.useState('');\n  const [users, setUsers] = React.useState([]);\n\n  const token = React.useContext(AuthContext);\n\n  const step = useStep();\n\n\n  function fetchUserData() {\n    axios\n    .get('/users/all', {\n      params: {\n        token,\n      },\n    })\n    .then(({ data }) => {\n      setUsers(data['users']);\n    })\n    .catch((err) => {});\n  }\n\n  React.useEffect(() => {\n      fetchUserData();\n  }, []);\n\n  const handleUserSelect = event => {\n      const newUserId = parseInt(event.target.value,10);\n      setSelectedUser(newUserId);\n  };\n\n  function handleClickOpen() {\n    setOpen(true);\n  }\n  function handleClose() {\n    setOpen(false);\n  }\n  function handleSubmit(event) {\n    event.preventDefault();\n    const u_id = selectedUser;\n\n    if (u_id == null) return;\n\n    axios.post(`/channel/invite`, { token, u_id, channel_id })\n      .then((response) => {\n        console.log(response);\n        step();\n      })\n      .catch((err) => {});\n  }\n  return (\n    <div>\n      <Button variant=\"outlined\" color=\"primary\" onClick={handleClickOpen}>\n        Invite Member\n      </Button>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">Invite User</DialogTitle>\n        <form onSubmit={handleSubmit}>\n          <DialogContent>\n            <DialogContentText>\n              Enter a user id below to invite a user to this channel\n            </DialogContentText>\n            <Select style={{width:\"100%\"}} id=\"u_id\" onChange={handleUserSelect} value={selectedUser}>\n              {users.map((d, idx) => {\n                return <MenuItem key={d.u_id} value={d.u_id}>{d.name_first} {d.name_last}</MenuItem>\n              })}\n            </Select>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              Cancel\n            </Button>\n            <Button onClick={handleClose} type=\"submit\" color=\"primary\">\n              Invite\n            </Button>\n          </DialogActions>\n        </form>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default AddMemberDialog;\n"]},"metadata":{},"sourceType":"module"}