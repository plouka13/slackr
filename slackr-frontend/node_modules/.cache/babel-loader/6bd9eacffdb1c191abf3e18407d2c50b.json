{"ast":null,"code":"var _jsxFileName = \"/Users/plouka/Projects/slackr/frontend/src/pages/RegisterPage.js\";\nimport axios from 'axios';\nimport { Avatar, Box, Button, Container, Grid, Link, makeStyles, TextField, Typography } from '@material-ui/core';\nimport DeveloperOutlinedIcon from '@material-ui/icons/DeveloperModeOutlined';\nimport React from 'react';\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.primary.light\n    }\n  },\n  card: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(8),\n    padding: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: theme.shape.borderRadius\n  }\n}));\n\nfunction RegisterPage({\n  setAuth,\n  ...props\n}) {\n  const [values, setValues] = React.useState({\n    name_first: '',\n    name_last: '',\n    email: '',\n    password: ''\n  });\n\n  const handleChange = name => event => {\n    setValues({ ...values,\n      [name]: event.target.value\n    });\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault(); // Quick validation\n\n    if (!values.email || !values.password) return; // Send to backend\n\n    axios.post(`/auth/register`, { ...values\n    }).then(response => {\n      console.log(response);\n      const data = response.data;\n      setAuth(data.token, data.u_id);\n      props.history.push('/');\n    }).catch(err => {});\n  }\n\n  const classes = useStyles();\n  return React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Box, {\n    boxShadow: 3,\n    className: classes.card,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(DeveloperOutlinedIcon, {\n    color: \"secondary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Register\"), React.createElement(\"form\", {\n    noValidate: true,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"name_first\",\n    label: \"First name\",\n    name: \"name_first\",\n    type: \"text\",\n    autoFocus: true,\n    value: values.name_first,\n    onChange: handleChange('name_first'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"name_last\",\n    label: \"Last name\",\n    name: \"name_last\",\n    type: \"text\",\n    value: values.name_last,\n    onChange: handleChange('name_last'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    label: \"Email\",\n    name: \"email\",\n    type: \"email\",\n    value: values.email,\n    onChange: handleChange('email'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    value: values.password,\n    onChange: handleChange('password'),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"password-warning\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, \"Passwords are not securely stored.\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), \"Do not enter any currently used passwords.\"), React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Sign Up\"), React.createElement(Grid, {\n    container: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }), React.createElement(Link, {\n    href: \"/login\",\n    variant: \"body1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, 'Already have an account? Login'))))));\n}\n\nexport default RegisterPage;","map":{"version":3,"sources":["/Users/plouka/Projects/slackr/frontend/src/pages/RegisterPage.js"],"names":["axios","Avatar","Box","Button","Container","Grid","Link","makeStyles","TextField","Typography","DeveloperOutlinedIcon","React","useStyles","theme","body","backgroundColor","palette","primary","light","card","background","paper","marginTop","spacing","padding","display","flexDirection","alignItems","borderRadius","shape","RegisterPage","setAuth","props","values","setValues","useState","name_first","name_last","email","password","handleChange","name","event","target","value","handleSubmit","preventDefault","post","then","response","console","log","data","token","u_id","history","push","catch","err","classes"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,MADF,EAEEC,GAFF,EAGEC,MAHF,EAIEC,SAJF,EAKEC,IALF,EAMEC,IANF,EAOEC,UAPF,EAQEC,SARF,EASEC,UATF,QAUO,mBAVP;AAWA,OAAOC,qBAAP,MAAkC,0CAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,SAAS,GAAGL,UAAU,CAAEM,KAAD,KAAY;AACvC,aAAW;AACTC,IAAAA,IAAI,EAAE;AACJC,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsBC;AADnC;AADG,GAD4B;AAMvCC,EAAAA,IAAI,EAAE;AACJJ,IAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcI,UAAd,CAAyBC,KADtC;AAEJC,IAAAA,SAAS,EAAET,KAAK,CAACU,OAAN,CAAc,CAAd,CAFP;AAGJC,IAAAA,OAAO,EAAEX,KAAK,CAACU,OAAN,CAAc,CAAd,CAHL;AAIJE,IAAAA,OAAO,EAAE,MAJL;AAKJC,IAAAA,aAAa,EAAE,QALX;AAMJC,IAAAA,UAAU,EAAE,QANR;AAOJC,IAAAA,YAAY,EAAEf,KAAK,CAACgB,KAAN,CAAYD;AAPtB;AANiC,CAAZ,CAAD,CAA5B;;AAiBA,SAASE,YAAT,CAAsB;AAAEC,EAAAA,OAAF;AAAW,KAAGC;AAAd,CAAtB,EAA6C;AAE3C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBvB,KAAK,CAACwB,QAAN,CAAe;AACzCC,IAAAA,UAAU,EAAE,EAD6B;AAEzCC,IAAAA,SAAS,EAAE,EAF8B;AAGzCC,IAAAA,KAAK,EAAE,EAHkC;AAIzCC,IAAAA,QAAQ,EAAE;AAJ+B,GAAf,CAA5B;;AAOA,QAAMC,YAAY,GAAGC,IAAI,IAAIC,KAAK,IAAI;AACpCR,IAAAA,SAAS,CAAC,EAAE,GAAGD,MAAL;AAAa,OAACQ,IAAD,GAAQC,KAAK,CAACC,MAAN,CAAaC;AAAlC,KAAD,CAAT;AACD,GAFD;;AAIA,WAASC,YAAT,CAAsBH,KAAtB,EAA6B;AAC3BA,IAAAA,KAAK,CAACI,cAAN,GAD2B,CAG3B;;AACA,QAAI,CAACb,MAAM,CAACK,KAAR,IAAiB,CAACL,MAAM,CAACM,QAA7B,EAAuC,OAJZ,CAM3B;;AACAvC,IAAAA,KAAK,CAAC+C,IAAN,CAAY,gBAAZ,EAA6B,EAAE,GAAGd;AAAL,KAA7B,EACGe,IADH,CACSC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,YAAMG,IAAI,GAAGH,QAAQ,CAACG,IAAtB;AACArB,MAAAA,OAAO,CAACqB,IAAI,CAACC,KAAN,EAAaD,IAAI,CAACE,IAAlB,CAAP;AACAtB,MAAAA,KAAK,CAACuB,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD,KANH,EAOGC,KAPH,CAOUC,GAAD,IAAS,CAAE,CAPpB;AAQD;;AAED,QAAMC,OAAO,GAAG/C,SAAS,EAAzB;AAEA,SACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAA4B,IAAA,QAAQ,EAAC,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAE,CAAhB;AAAmB,IAAA,SAAS,EAAE+C,OAAO,CAACxC,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,qBAAD;AAAuB,IAAA,KAAK,EAAC,WAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,IAAtB;AAA2B,IAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,EAOE;AAAM,IAAA,UAAU,MAAhB;AAAiB,IAAA,QAAQ,EAAE0B,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,EAAE,EAAC,YALL;AAME,IAAA,KAAK,EAAC,YANR;AAOE,IAAA,IAAI,EAAC,YAPP;AAQE,IAAA,IAAI,EAAC,MARP;AASE,IAAA,SAAS,MATX;AAUE,IAAA,KAAK,EAAEZ,MAAM,CAACG,UAVhB;AAWE,IAAA,QAAQ,EAAEI,YAAY,CAAC,YAAD,CAXxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAcE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,EAAE,EAAC,WALL;AAME,IAAA,KAAK,EAAC,WANR;AAOE,IAAA,IAAI,EAAC,WAPP;AAQE,IAAA,IAAI,EAAC,MARP;AASE,IAAA,KAAK,EAAEP,MAAM,CAACI,SAThB;AAUE,IAAA,QAAQ,EAAEG,YAAY,CAAC,WAAD,CAVxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,EA0BE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,EAAE,EAAC,OALL;AAME,IAAA,KAAK,EAAC,OANR;AAOE,IAAA,IAAI,EAAC,OAPP;AAQE,IAAA,IAAI,EAAC,OARP;AASE,IAAA,KAAK,EAAEP,MAAM,CAACK,KAThB;AAUE,IAAA,QAAQ,EAAEE,YAAY,CAAC,OAAD,CAVxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1BF,EAsCE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,IAAI,EAAC,UALP;AAME,IAAA,KAAK,EAAC,UANR;AAOE,IAAA,IAAI,EAAC,UAPP;AAQE,IAAA,EAAE,EAAC,UARL;AASE,IAAA,YAAY,EAAC,kBATf;AAUE,IAAA,KAAK,EAAEP,MAAM,CAACM,QAVhB;AAWE,IAAA,QAAQ,EAAEC,YAAY,CAAC,UAAD,CAXxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtCF,EAmDE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADpC,+CAnDF,EAuDE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,MAA/B;AAAgC,IAAA,OAAO,EAAC,WAAxC;AAAoD,IAAA,KAAK,EAAC,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAvDF,EA0DE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,QAAX;AAAoB,IAAA,OAAO,EAAC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,gCADH,CAFF,CADF,CA1DF,CAPF,CADF,CADF;AA+ED;;AAED,eAAeV,YAAf","sourcesContent":["import axios from 'axios';\nimport {\n  Avatar,\n  Box,\n  Button,\n  Container,\n  Grid,\n  Link,\n  makeStyles,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport DeveloperOutlinedIcon from '@material-ui/icons/DeveloperModeOutlined';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.primary.light,\n    },\n  },\n  card: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(8),\n    padding: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: theme.shape.borderRadius,\n  },\n}));\n\nfunction RegisterPage({ setAuth, ...props }) {\n\n  const [values, setValues] = React.useState({\n    name_first: '',\n    name_last: '',\n    email: '',\n    password: '',\n  });\n\n  const handleChange = name => event => {\n    setValues({ ...values, [name]: event.target.value });\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // Quick validation\n    if (!values.email || !values.password) return;\n\n    // Send to backend\n    axios.post(`/auth/register`, { ...values })\n      .then((response) => {\n        console.log(response);\n        const data = response.data;\n        setAuth(data.token, data.u_id);\n        props.history.push('/');\n      })\n      .catch((err) => {});\n  }\n\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      <Box boxShadow={3} className={classes.card}>\n        <Avatar>\n          <DeveloperOutlinedIcon color=\"secondary\" />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Register\n        </Typography>\n        <form noValidate onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"name_first\"\n            label=\"First name\"\n            name=\"name_first\"\n            type=\"text\"\n            autoFocus\n            value={values.name_first}\n            onChange={handleChange('name_first')}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"name_last\"\n            label=\"Last name\"\n            name=\"name_last\"\n            type=\"text\"\n            value={values.name_last}\n            onChange={handleChange('name_last')}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email\"\n            name=\"email\"\n            type=\"email\"\n            value={values.email}\n            onChange={handleChange('email')}\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={values.password}\n            onChange={handleChange('password')}\n          />\n          <div className=\"password-warning\">\n            Passwords are not securely stored.<br />\n            Do not enter any currently used passwords.\n          </div>\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n            Sign Up\n          </Button>\n          <Grid container>\n            <Grid item>\n              <br />\n              <Link href=\"/login\" variant=\"body1\">\n                {'Already have an account? Login'}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </Box>\n    </Container>\n  );\n}\n\nexport default RegisterPage;\n"]},"metadata":{},"sourceType":"module"}