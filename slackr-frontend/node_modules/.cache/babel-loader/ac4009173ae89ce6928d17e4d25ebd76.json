{"ast":null,"code":"var _jsxFileName = \"/Users/plouka/Projects/slackr/frontend/src/pages/LoginPage.js\";\nimport axios from 'axios';\nimport { Avatar, Box, Button, Container, Grid, Link, makeStyles, TextField, Typography } from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport React from 'react';\nimport '../App.css';\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.primary.light\n    }\n  },\n  card: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(8),\n    padding: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: theme.shape.borderRadius\n  }\n}));\n\nfunction LoginPage({\n  setAuth,\n  ...props\n}) {\n  function handleSubmit(event) {\n    event.preventDefault(); // Get user inputs (TODO:)\n\n    const email = event.target[0].value;\n    const password = event.target[2].value; // Quick validation\n\n    if (!email || !password) return; // Send to backend\n\n    axios.post(`/auth/login`, {\n      email,\n      password\n    }).then(response => {\n      console.log(response);\n      const data = response.data;\n      setAuth(data.token, data.u_id);\n      props.history.push('/');\n    }).catch(err => {});\n  }\n\n  const classes = useStyles();\n  return React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Box, {\n    boxShadow: 3,\n    className: classes.card,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(LockOutlinedIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  })), React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"form\", {\n    noValidate: true,\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    label: \"Email\",\n    name: \"email\",\n    type: \"text\",\n    autoFocus: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"password-warning\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Passwords are not securely stored.\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), \"Do not enter any currently used passwords.\"), React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"Sign In\"), React.createElement(Grid, {\n    container: true,\n    direction: \"column\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }), React.createElement(Link, {\n    href: \"/register\",\n    variant: \"body1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, \"Don't have an account? Register\")), React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(Link, {\n    href: \"/forgot_password\",\n    variant: \"body1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Forgot password?\"))))));\n}\n\nexport default LoginPage;","map":{"version":3,"sources":["/Users/plouka/Projects/slackr/frontend/src/pages/LoginPage.js"],"names":["axios","Avatar","Box","Button","Container","Grid","Link","makeStyles","TextField","Typography","LockOutlinedIcon","React","useStyles","theme","body","backgroundColor","palette","primary","light","card","background","paper","marginTop","spacing","padding","display","flexDirection","alignItems","borderRadius","shape","LoginPage","setAuth","props","handleSubmit","event","preventDefault","email","target","value","password","post","then","response","console","log","data","token","u_id","history","push","catch","err","classes"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,MADF,EAEEC,GAFF,EAGEC,MAHF,EAIEC,SAJF,EAKEC,IALF,EAMEC,IANF,EAOEC,UAPF,EAQEC,SARF,EASEC,UATF,QAUO,mBAVP;AAWA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AAEA,MAAMC,SAAS,GAAGL,UAAU,CAAEM,KAAD,KAAY;AACvC,aAAW;AACTC,IAAAA,IAAI,EAAE;AACJC,MAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsBC;AADnC;AADG,GAD4B;AAMvCC,EAAAA,IAAI,EAAE;AACJJ,IAAAA,eAAe,EAAEF,KAAK,CAACG,OAAN,CAAcI,UAAd,CAAyBC,KADtC;AAEJC,IAAAA,SAAS,EAAET,KAAK,CAACU,OAAN,CAAc,CAAd,CAFP;AAGJC,IAAAA,OAAO,EAAEX,KAAK,CAACU,OAAN,CAAc,CAAd,CAHL;AAIJE,IAAAA,OAAO,EAAE,MAJL;AAKJC,IAAAA,aAAa,EAAE,QALX;AAMJC,IAAAA,UAAU,EAAE,QANR;AAOJC,IAAAA,YAAY,EAAEf,KAAK,CAACgB,KAAN,CAAYD;AAPtB;AANiC,CAAZ,CAAD,CAA5B;;AAiBA,SAASE,SAAT,CAAmB;AAAEC,EAAAA,OAAF;AAAW,KAAGC;AAAd,CAAnB,EAA0C;AACxC,WAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3BA,IAAAA,KAAK,CAACC,cAAN,GAD2B,CAG3B;;AACA,UAAMC,KAAK,GAAGF,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAA9B;AACA,UAAMC,QAAQ,GAAGL,KAAK,CAACG,MAAN,CAAa,CAAb,EAAgBC,KAAjC,CAL2B,CAO3B;;AACA,QAAI,CAACF,KAAD,IAAU,CAACG,QAAf,EAAyB,OARE,CAU3B;;AACAvC,IAAAA,KAAK,CAACwC,IAAN,CAAY,aAAZ,EAA0B;AAAEJ,MAAAA,KAAF;AAASG,MAAAA;AAAT,KAA1B,EACGE,IADH,CACSC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,YAAMG,IAAI,GAAGH,QAAQ,CAACG,IAAtB;AACAd,MAAAA,OAAO,CAACc,IAAI,CAACC,KAAN,EAAaD,IAAI,CAACE,IAAlB,CAAP;AACAf,MAAAA,KAAK,CAACgB,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AACD,KANH,EAOGC,KAPH,CAOUC,GAAD,IAAS,CAAE,CAPpB;AAQD;;AAED,QAAMC,OAAO,GAAGxC,SAAS,EAAzB;AAEA,SACE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,MAArB;AAA4B,IAAA,QAAQ,EAAC,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAE,CAAhB;AAAmB,IAAA,SAAS,EAAEwC,OAAO,CAACjC,IAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,IAAtB;AAA2B,IAAA,OAAO,EAAC,IAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,EAOE;AAAM,IAAA,UAAU,MAAhB;AAAiB,IAAA,QAAQ,EAAEc,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,EAAE,EAAC,OALL;AAME,IAAA,KAAK,EAAC,OANR;AAOE,IAAA,IAAI,EAAC,OAPP;AAQE,IAAA,IAAI,EAAC,MARP;AASE,IAAA,SAAS,MATX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAYE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAC,UADV;AAEE,IAAA,MAAM,EAAC,QAFT;AAGE,IAAA,QAAQ,MAHV;AAIE,IAAA,SAAS,MAJX;AAKE,IAAA,IAAI,EAAC,UALP;AAME,IAAA,KAAK,EAAC,UANR;AAOE,IAAA,IAAI,EAAC,UAPP;AAQE,IAAA,EAAE,EAAC,UARL;AASE,IAAA,YAAY,EAAC,kBATf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,EAuBE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADpC,+CAvBF,EA2BE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,MAA/B;AAAgC,IAAA,OAAO,EAAC,WAAxC;AAAoD,IAAA,KAAK,EAAC,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA3BF,EA8BE,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,SAAS,EAAC,QAA1B;AAAmC,IAAA,UAAU,EAAC,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,WAAX;AAAuB,IAAA,OAAO,EAAC,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,iCADH,CAFF,CADF,EAOE,oBAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,kBAAX;AAA8B,IAAA,OAAO,EAAC,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,CAPF,CA9BF,CAPF,CADF,CADF;AAyDD;;AAED,eAAeH,SAAf","sourcesContent":["import axios from 'axios';\nimport {\n  Avatar,\n  Box,\n  Button,\n  Container,\n  Grid,\n  Link,\n  makeStyles,\n  TextField,\n  Typography,\n} from '@material-ui/core';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport React from 'react';\nimport '../App.css';\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.primary.light,\n    },\n  },\n  card: {\n    backgroundColor: theme.palette.background.paper,\n    marginTop: theme.spacing(8),\n    padding: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    borderRadius: theme.shape.borderRadius,\n  },\n}));\n\nfunction LoginPage({ setAuth, ...props }) {\n  function handleSubmit(event) {\n    event.preventDefault();\n\n    // Get user inputs (TODO:)\n    const email = event.target[0].value;\n    const password = event.target[2].value;\n\n    // Quick validation\n    if (!email || !password) return;\n\n    // Send to backend\n    axios.post(`/auth/login`, { email, password })\n      .then((response) => {\n        console.log(response);\n        const data = response.data;\n        setAuth(data.token, data.u_id);\n        props.history.push('/');\n      })\n      .catch((err) => {});\n  }\n\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"sm\">\n      <Box boxShadow={3} className={classes.card}>\n        <Avatar>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Login\n        </Typography>\n        <form noValidate onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email\"\n            name=\"email\"\n            type=\"text\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n          />\n          <div className=\"password-warning\">\n            Passwords are not securely stored.<br />\n            Do not enter any currently used passwords.\n          </div>\n          <Button type=\"submit\" fullWidth variant=\"contained\" color=\"primary\">\n            Sign In\n          </Button>\n          <Grid container direction=\"column\" alignItems=\"center\">\n            <Grid item>\n              <br />\n              <Link href=\"/register\" variant=\"body1\">\n                {\"Don't have an account? Register\"}\n              </Link>\n            </Grid>\n            <Grid item>\n              <br />\n              <Link href=\"/forgot_password\" variant=\"body1\">\n                Forgot password?\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </Box>\n    </Container>\n  );\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}